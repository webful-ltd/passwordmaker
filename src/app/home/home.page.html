<ion-header no-border>
  <ion-toolbar>
    <ion-title>Make a Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form>
    <ion-item>
      <ion-label position="floating">URL or domain</ion-label>
      <ion-input
        name="host"
        [(ngModel)]="input.host"
        type="text"
        (ionChange)="updatePassword()"
      ></ion-input>
      <p class="input_help">Which site or app are you logging into? e.g. <em>when.fm</em></p>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Master password</ion-label>
      <ion-input
        name="master_password"
        [(ngModel)]="input.master_password"
        inputmode="password"
        type="password"
        (ionChange)="updatePassword()"
      ></ion-input>
      <p class="input_help">What <em>super secret</em> password are you using to guard all your per-site passwords?</p>
    </ion-item>

    <p *ngIf="literal_input_warning" class="warning">
      Because you have <em>Use just domain name?</em> switched off in Settings, every URL you
      enter will give you a different password - your input is <em>literal</em>. If you
      didn't change this on purpose it may mean you can't use your passwords.
    </p>

    <div *ngIf="output_password">
      <ion-item class="output_password_item">
        <ion-label position="stacked">Per-site password</ion-label>
        <div class="output_password">{{ output_password }}</div>
      </ion-item>
      <ion-item *ngIf="clipboard_available" class="output_password_item">
        <ion-button icon-start (click)="copy()">
          <ion-icon name="copy"></ion-icon>
          Copy
        </ion-button>
      </ion-item>
    </div>
    <p *ngIf="!output_password">Complete the two inputs and we'll give you a shiny password that's unique for this site or app.</p>
  </form>
</ion-content>
